!function(){let t={};const e="eagle-src-loading";let n=null,o=0;function l(){var n=function(t){return t.split("/")[4]};if(location.href.startsWith("https://500px.com")){let o=document.querySelectorAll('div[class^="Elements__PhotoCardWrapper"] a img:not([eagle-src]):not([eagle-src-loading])'),l=[];o.forEach(function(t){let e=n(t.src);l.push(e)}),l.length>0&&function(o,l){if(0==o.length)return;let i=o.join("%2C");fetch(`https://api.500px.com/v1/photos?image_size%5B%5D=2048&ids=${i}`).then(function(t){return t.json()}).then(function(o){let i=o.photos;Object.keys(i).map(function(e,n){t[e]=i[e].image_url[0]}),l.forEach(function(o){let l=n(o.src);void 0!==t[l]&&o.setAttribute("eagle-src",t[l]),o.removeAttribute(e)})},function(){l.forEach(function(t){t.removeAttribute(e)})})}(l,o)}}setInterval(function(){location.href!=n&&(n=location.href,l())},1e3),function(){let t=null;window.addEventListener("scroll",function(){clearTimeout(t),t=setTimeout(function(){window.document.body.scrollHeight!=o&&(o=window.document.body.scrollHeight,l())},500)})}();let i=setInterval(function(){document.querySelectorAll('div[class^="Elements__PhotoCardWrapper"] a img').length&&(l(),clearInterval(i))},100)}();